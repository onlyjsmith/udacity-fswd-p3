{% extends "layout.html" %}
{% block content %}
  {% include '_header.html' %}
  {% include '_flash.html' %}
  <div class=''>
    <h1>Categories</h1>
    {% if not readonly %}
      <a href="{{url_for('newCategory')}}">+ add category</a>
    {% endif %}
  </div>

  <div class="list-group">
    {% for category in categories %}
      <div class='list-group-item'>
        <a href = "{{url_for('showItems', category_id = category.id)}}">
          <h4 class="list-group-item-heading">{{category.name}} <span class="badge">42</span></h4>
        </a>
        <p>
          {% if not readonly %}
            <a href="{{url_for('newItem', category_id=category.id)}}">+ add item</a> |
            <a href="{{url_for('editCategory', category_id=category.id)}}">edit</a> |
            <a href="{{url_for('deleteCategory', category_id=category.id)}}">delete</a>
          {% endif %}
        </p>
      </div>
    {% endfor %}
  </div>
{% endblock %}
